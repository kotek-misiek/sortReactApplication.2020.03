{"ast":null,"code":"var _jsxFileName = \"c:\\\\projects\\\\react-app\\\\src\\\\sorting\\\\Autorization.js\";\nimport Axios from 'axios';\nimport Block from './utils/Block';\nimport React from 'react';\nimport \"./GeneralSorting.css\";\nimport cookie from \"react-cookies\";\nimport { properties } from './../env.properties';\n\nclass Autorization extends Block {\n  constructor(props) {\n    super(props);\n    this.reference = React.createRef();\n    this.userName = cookie.load(\"userName\") === undefined ? \"userEEE\" : cookie.load(\"userName\");\n    this.password = \"password\";\n  }\n\n  userNameChange(event) {\n    this.setStateParam(\"userName\", event.target.value);\n    this.userName = event.target.value;\n    console.log(this.userName);\n  }\n\n  passwordChange(event) {\n    this.setStateParam(\"password\", event.target.value);\n  }\n\n  handleUnauthButton(event) {\n    this.props.setStateParam(\"token\", undefined);\n  }\n\n  handleAuthButton(event) {\n    cookie.save(\"userName\", this.userName, {\n      maxAge: 600\n    });\n    Axios.post(properties.tokenPath, \"username=\" + this.userName + \"&password=\" + this.password).then(response => {\n      this.props.setStateParam(\"token\", response.data);\n      cookie.save(\"token\", response.data, {\n        maxAge: 600\n      });\n    }).catch(error => {\n      this.props.setStateParam(\"token\", undefined);\n      cookie.remove(\"token\");\n    });\n  }\n\n  renderAutorized() {\n    return React.createElement(\"div\", {\n      ref: this.reference,\n      style: this.border,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: this.bold,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Autorization\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Welcome, \", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.userName)), React.createElement(\"button\", {\n      onClick: this.handleAuthhandleUnauthButtonButton = this.handleUnauthButton.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Logout\"));\n  }\n\n  renderUnautorized() {\n    return React.createElement(\"div\", {\n      ref: this.reference,\n      style: this.border,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: this.bold,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Autorization\"), React.createElement(\"div\", {\n      style: this.rightAlign,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"User name:\", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.userName,\n      onChange: this.userNameChange = this.userNameChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: this.rightAlign,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Password:\", React.createElement(\"input\", {\n      type: \"password\",\n      value: this.password,\n      onChange: this.passwordChange = this.passwordChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      onClick: this.handleAuthButton = this.handleAuthButton.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Log in\"));\n  }\n\n  render() {\n    return this.props.getStateParam(\"token\") === undefined ? this.renderUnautorized() : this.renderAutorized();\n  }\n\n}\n\nexport default Autorization;","map":{"version":3,"sources":["c:/projects/react-app/src/sorting/Autorization.js"],"names":["Axios","Block","React","cookie","properties","Autorization","constructor","props","reference","createRef","userName","load","undefined","password","userNameChange","event","setStateParam","target","value","console","log","passwordChange","handleUnauthButton","handleAuthButton","save","maxAge","post","tokenPath","then","response","data","catch","error","remove","renderAutorized","border","bold","handleAuthhandleUnauthButtonButton","bind","renderUnautorized","rightAlign","render","getStateParam"],"mappings":"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","sourcesContent":["import Axios from 'axios';\r\nimport Block from './utils/Block';\r\nimport React from 'react';\r\nimport \"./GeneralSorting.css\";\r\nimport cookie from \"react-cookies\";\r\nimport { properties } from './../env.properties';\r\n\r\n\r\nclass Autorization extends Block {\r\n    constructor(props) {\r\n        super(props);\r\n        this.reference = React.createRef();\r\n        this.userName = cookie.load(\"userName\") === undefined ? \"userEEE\" : cookie.load(\"userName\");\r\n        this.password = \"password\";\r\n    }\r\n\r\n    userNameChange(event) {\r\n        this.setStateParam(\"userName\", event.target.value);\r\n        this.userName = event.target.value;\r\n        console.log(this.userName);\r\n    }\r\n\r\n    passwordChange(event) {\r\n        this.setStateParam(\"password\", event.target.value);\r\n    }\r\n\r\n    handleUnauthButton(event) {\r\n        this.props.setStateParam(\"token\", undefined);\r\n    }\r\n\r\n    handleAuthButton(event) {\r\n        cookie.save(\"userName\", this.userName, {maxAge: 600});\r\n        Axios.post(properties.tokenPath, \"username=\" + this.userName + \"&password=\" + this.password)\r\n            .then(response => {\r\n                this.props.setStateParam(\"token\", response.data);\r\n                cookie.save(\"token\", response.data, {maxAge: 600});\r\n            })\r\n            .catch(error => {\r\n                this.props.setStateParam(\"token\", undefined);\r\n                cookie.remove(\"token\");\r\n            });\r\n    }\r\n\r\n    renderAutorized() {\r\n        return (\r\n            <div ref={this.reference} style={this.border}>\r\n                <div style={this.bold}>Autorization</div>\r\n                <div>Welcome, <b>{this.userName}</b></div>\r\n                <button onClick={this.handleAuthhandleUnauthButtonButton = this.handleUnauthButton.bind(this)}>Logout</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderUnautorized() {\r\n        return (\r\n            <div ref={this.reference} style={this.border}>\r\n                <div style={this.bold}>Autorization</div>\r\n                <div style={this.rightAlign}>\r\n                    <label> \r\n                        User name:\r\n                        <input type=\"text\" value={this.userName} onChange={this.userNameChange = this.userNameChange.bind(this)} />\r\n                    </label>\r\n                </div>\r\n                <div style={this.rightAlign}>\r\n                    <label> \r\n                        Password:\r\n                        <input type=\"password\" value={this.password} onChange={this.passwordChange = this.passwordChange.bind(this)} />\r\n                    </label>\r\n                </div>\r\n                <button onClick={this.handleAuthButton = this.handleAuthButton.bind(this)}>Log in</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return this.props.getStateParam(\"token\") === undefined ? this.renderUnautorized() : this.renderAutorized();\r\n    }\r\n}\r\n\r\nexport default Autorization;"]},"metadata":{},"sourceType":"module"}